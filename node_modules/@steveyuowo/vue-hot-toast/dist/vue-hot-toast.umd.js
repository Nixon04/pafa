(function(a,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(a=typeof globalThis<"u"?globalThis:a||self,t(a["vue-hot-toast"]={},a.Vue))})(this,function(a,t){"use strict";const p={class:"VueHotToast__icon"},_={key:0},m=["src"],g={key:1,class:"VueHotToast__checkmark"},h={key:2,class:"VueHotToast__error"},y={key:3,class:"VueHotToast__loading"},x={class:"content"},k={class:"content-message"},T=t.defineComponent({__name:"ToasterItem",props:{id:{},type:{},message:{},autoClose:{type:Boolean},duration:{},icon:{},position:{}},emits:["close"],setup(e,{emit:o}){const n=e,s=o,i=t.ref(null),S=t.ref(0),u=t.ref(0),d=t.ref(!1),f=()=>{d.value||(d.value=!0,setTimeout(()=>{s("close")},400))};return t.watchEffect(()=>{n.autoClose&&(S.value=Date.now(),u.value=n.duration,i.value=setTimeout(f,u.value))}),(c,j)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["VueHotToast__toast",{leaving:d.value}]),style:t.normalizeStyle(`--toast-duration: ${c.duration}s;`),onClick:t.withModifiers(f,["prevent"])},[t.createElementVNode("div",p,[c.icon?(t.openBlock(),t.createElementBlock("div",_,[t.createElementVNode("img",{class:"VueHotToast__custom-icon",src:c.icon,width:24,height:24,alt:"Toast Icon"},null,8,m)])):c.type==="success"?(t.openBlock(),t.createElementBlock("div",g)):c.type==="error"?(t.openBlock(),t.createElementBlock("div",h)):c.type==="loading"?(t.openBlock(),t.createElementBlock("div",y)):t.createCommentVNode("",!0)]),t.createElementVNode("div",x,[t.createElementVNode("div",k,t.toDisplayString(c.message),1)])],6))}}),E={type:"info",message:"Here's your toast.",autoClose:!0,duration:3e3,position:"top-center"};function B(){let e=new Date().getTime();var o="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var s=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(n=="x"?s:s&3|8).toString(16)});return o}const r=t.reactive({notifications:[]}),l=function(){const e=o=>{const n=Object.assign({...E},o),s=B();return r.notifications.unshift({id:s,...n}),s};return e.update=(o,n)=>{const s=r.notifications.findIndex(i=>i.id===o);if(s===-1)throw e(n),new Error("Can't find toast");return Object.assign(r.notifications[s],n),o},e._handleOptions=(o,n)=>{const s=Object.assign(n??{},{type:o});return e(s)},e.loading=(o,n)=>e._handleOptions("loading",Object.assign(n??{},{message:o})),e.success=(o,n)=>e._handleOptions("success",Object.assign(n??{},{message:o})),e.error=(o,n)=>e._handleOptions("error",Object.assign(n??{},{message:o})),e.promise=(o,n)=>{const s=e.loading(n.loading,{position:n.position});return o.then(i=>(e.update(s,{message:n.success,type:"success",position:n.position}),s)).catch(i=>{throw e.update(s,{message:n.error,type:"error",position:n.position}),i})},e}(),C=e=>{const o=r.notifications.findIndex(n=>n.id===e);o!==-1&&r.notifications.splice(o,1)},V=t.defineComponent({__name:"Toaster",setup(e){const o=t.computed(()=>r.notifications.length>0?r.notifications[0].position:"top-center");return(n,s)=>(t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.createElementVNode("div",{class:t.normalizeClass(["VueHotToast__toast-container",`VueHotToast__${o.value}`])},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(r).notifications,i=>(t.openBlock(),t.createBlock(T,{key:i.id,id:i.id,type:i.type,message:i.message,"auto-close":i.autoClose,duration:i.duration,icon:i.icon,position:i.position,onClose:()=>{t.unref(C)(i.id)}},null,8,["id","type","message","auto-close","duration","icon","position","onClose"]))),128))],2)]))}});function O(e,o){return l.loading(e,{autoClose:!1,position:o})}function b(e,o,n){l.update(o,{message:e,type:"success",autoClose:!0,duration:3e3,position:n})}function w(e,o,n){l.update(o,{message:H(e),type:"error",autoClose:!0,duration:3e3,position:n})}function H(e){if(!e)return"Undefined Error";if(typeof e=="string")return e;if(e instanceof Error){const o=e;return o.reason??o.message}else return JSON.stringify(e)}a.Toaster=V,a.toast=l,a.toastError=w,a.toastLoading=O,a.toastSuccess=b,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});
