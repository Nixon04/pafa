(function(a,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(a=typeof globalThis<"u"?globalThis:a||self,t(a["vue-hot-toast"]={},a.Vue))})(this,function(a,t){"use strict";const p=["onClick"],f={class:"VueHotToast__icon"},_={key:0},m=["src"],g={key:1,class:"VueHotToast__checkmark"},h={key:2,class:"VueHotToast__error"},y={key:3,class:"VueHotToast__loading"},x={class:"content"},k={class:"content-message"},T=t.defineComponent({__name:"ToasterItem",props:{id:{},type:{},message:{},autoClose:{type:Boolean},duration:{},icon:{},position:{}},emits:["close"],setup(o,{emit:e}){const n=o,s=t.ref(null),i=t.ref(0),d=t.ref(0),u=()=>{e("close")};return t.watchEffect(()=>{n.autoClose&&(i.value=Date.now(),d.value=n.duration,s.value=setTimeout(u,d.value))}),(c,S)=>(t.openBlock(),t.createElementBlock("div",{class:"VueHotToast__toast",style:t.normalizeStyle(`--toast-duration: ${c.duration}s;`),onClick:t.withModifiers(u,["prevent"])},[t.createElementVNode("div",f,[c.icon?(t.openBlock(),t.createElementBlock("div",_,[t.createElementVNode("img",{class:"VueHotToast__custom-icon",src:c.icon,width:24,height:24,alt:"Toast Icon"},null,8,m)])):c.type==="success"?(t.openBlock(),t.createElementBlock("div",g)):c.type==="error"?(t.openBlock(),t.createElementBlock("div",h)):c.type==="loading"?(t.openBlock(),t.createElementBlock("div",y)):t.createCommentVNode("",!0)]),t.createElementVNode("div",x,[t.createElementVNode("div",k,t.toDisplayString(c.message),1)])],12,p))}}),E={type:"info",message:"Here's your toast.",autoClose:!0,duration:3e3,position:"top-center"};function V(){let o=new Date().getTime();var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var s=(o+Math.random()*16)%16|0;return o=Math.floor(o/16),(n=="x"?s:s&3|8).toString(16)});return e}const r=t.reactive({notifications:[]}),l=function(){const o=e=>{const n=Object.assign({...E},e),s=V();return r.notifications.push({id:s,...n}),s};return o.update=(e,n)=>{const s=r.notifications.findIndex(i=>i.id===e);if(s===-1)throw o(n),new Error("Can't find toast");return Object.assign(r.notifications[s],n),e},o._handleOptions=(e,n)=>{const s=Object.assign(n??{},{type:e});return o(s)},o.loading=(e,n)=>o._handleOptions("loading",Object.assign(n??{},{message:e})),o.success=(e,n)=>o._handleOptions("success",Object.assign(n??{},{message:e})),o.error=(e,n)=>o._handleOptions("error",Object.assign(n??{},{message:e})),o.promise=(e,n)=>{const s=o.loading(n.loading,{position:n.position});return e.then(i=>(o.update(s,{message:n.success,type:"success",position:n.position}),s)).catch(i=>{throw o.update(s,{message:n.error,type:"error",position:n.position}),i})},o}(),B=o=>{const e=r.notifications.findIndex(n=>n.id===o);e!==-1&&r.notifications.splice(e,1)},C=t.defineComponent({__name:"Toaster",setup(o){const e=t.computed(()=>r.notifications.length>0?r.notifications[0].position:"top-center");return(n,s)=>(t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.createVNode(t.Transition,{name:"VueHotToast__teleport-transition",tag:"div",class:"VueHotToast__teleport-transition"},{default:t.withCtx(()=>[t.createElementVNode("div",{class:t.normalizeClass(["VueHotToast__toast-container",`VueHotToast__${e.value}`])},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(r).notifications,i=>(t.openBlock(),t.createBlock(T,{key:i.id,id:i.id,type:i.type,message:i.message,"auto-close":i.autoClose,duration:i.duration,icon:i.icon,position:i.position,onClose:()=>{t.unref(B)(i.id)}},null,8,["id","type","message","auto-close","duration","icon","position","onClose"]))),128))],2)]),_:1})]))}});function O(o,e){return l.loading(o,{autoClose:!1,position:e})}function b(o,e,n){l.update(e,{message:o,type:"success",autoClose:!0,duration:3e3,position:n})}function H(o,e,n){l.update(e,{message:w(o),type:"error",autoClose:!0,duration:3e3,position:n})}function w(o){if(!o)return"Undefined Error";if(typeof o=="string")return o;if(o instanceof Error){const e=o;return e.reason??e.message}else return JSON.stringify(o)}a.Toaster=C,a.toast=l,a.toastError=H,a.toastLoading=O,a.toastSuccess=b,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});
