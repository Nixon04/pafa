import{a as v,d as f,e as h,f as x,g as i,i as u,j as r,k as T,u as g,F as k,n as y,T as C,r as l,l as O,p as V,t as H,q as j,v as w}from"./@vue-B6z9BDXv.js";const b={class:"VueHotToast__icon"},B={key:0},I=["src"],D={key:1,class:"VueHotToast__checkmark"},M={key:2,class:"VueHotToast__error"},S={key:3,class:"VueHotToast__loading"},z={class:"content"},E={class:"content-message"},N=f({__name:"ToasterItem",props:{id:{},type:{},message:{},autoClose:{type:Boolean},duration:{},icon:{},position:{}},emits:["close"],setup(e,{emit:s}){const t=e,o=s,a=l(null),_=l(0),p=l(0),d=l(!1),m=()=>{d.value||(d.value=!0,setTimeout(()=>{o("close")},400))};return O(()=>{t.autoClose&&(_.value=Date.now(),p.value=t.duration,a.value=setTimeout(m,p.value))}),(c,L)=>(i(),r("div",{class:y(["VueHotToast__toast",{leaving:d.value}]),style:w(`--toast-duration: ${c.duration}s;`),onClick:j(m,["prevent"])},[u("div",b,[c.icon?(i(),r("div",B,[u("img",{class:"VueHotToast__custom-icon",src:c.icon,width:24,height:24,alt:"Toast Icon"},null,8,I)])):c.type==="success"?(i(),r("div",D)):c.type==="error"?(i(),r("div",M)):c.type==="loading"?(i(),r("div",S)):V("",!0)]),u("div",z,[u("div",E,H(c.message),1)])],6))}}),$={type:"info",message:"Here's your toast.",autoClose:!0,duration:3e3,position:"top-center"};function q(){let e=new Date().getTime();var s="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var o=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(t=="x"?o:o&3|8).toString(16)});return s}const n=v({notifications:[]}),J=function(){const e=s=>{const t=Object.assign({...$},s),o=q();return n.notifications.unshift({id:o,...t}),o};return e.update=(s,t)=>{const o=n.notifications.findIndex(a=>a.id===s);if(o===-1)throw e(t),new Error("Can't find toast");return Object.assign(n.notifications[o],t),s},e._handleOptions=(s,t)=>{const o=Object.assign(t??{},{type:s});return e(o)},e.loading=(s,t)=>e._handleOptions("loading",Object.assign(t??{},{message:s})),e.success=(s,t)=>e._handleOptions("success",Object.assign(t??{},{message:s})),e.error=(s,t)=>e._handleOptions("error",Object.assign(t??{},{message:s})),e.promise=(s,t)=>{const o=e.loading(t.loading,{position:t.position});return s.then(a=>(e.update(o,{message:t.success,type:"success",position:t.position}),o)).catch(a=>{throw e.update(o,{message:t.error,type:"error",position:t.position}),a})},e}(),F=e=>{const s=n.notifications.findIndex(t=>t.id===e);s!==-1&&n.notifications.splice(s,1)},U=f({__name:"Toaster",setup(e){const s=h(()=>n.notifications.length>0?n.notifications[0].position:"top-center");return(t,o)=>(i(),x(C,{to:"body"},[u("div",{class:y(["VueHotToast__toast-container",`VueHotToast__${s.value}`])},[(i(!0),r(k,null,T(g(n).notifications,a=>(i(),x(N,{key:a.id,id:a.id,type:a.type,message:a.message,"auto-close":a.autoClose,duration:a.duration,icon:a.icon,position:a.position,onClose:()=>{g(F)(a.id)}},null,8,["id","type","message","auto-close","duration","icon","position","onClose"]))),128))],2)]))}});export{J as p,U as q};
//# sourceMappingURL=@steveyuowo-CHCWlgMD.js.map
