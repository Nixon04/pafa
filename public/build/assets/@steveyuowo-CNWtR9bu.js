import{a as _,d as g,e as f,f as x,g as i,i as y,j as v,k as l,n as h,l as r,F as T,p as k,u as m,T as C,q as V,r as u,t as H,v as O,x as w,y as b,z as j}from"./@vue-DQm8MuCe.js";const B=["onClick"],I={class:"VueHotToast__icon"},z={key:0},D=["src"],M={key:1,class:"VueHotToast__checkmark"},N={key:2,class:"VueHotToast__error"},S={key:3,class:"VueHotToast__loading"},E={class:"content"},F={class:"content-message"},$=g({__name:"ToasterItem",props:{id:{},type:{},message:{},autoClose:{type:Boolean},duration:{},icon:{},position:{}},emits:["close"],setup(o,{emit:s}){const t=o,e=u(null),a=u(0),d=u(0),p=()=>{s("close")};return H(()=>{t.autoClose&&(a.value=Date.now(),d.value=t.duration,e.value=setTimeout(p,d.value))}),(c,J)=>(i(),r("div",{class:"VueHotToast__toast",style:j(`--toast-duration: ${c.duration}s;`),onClick:b(p,["prevent"])},[l("div",I,[c.icon?(i(),r("div",z,[l("img",{class:"VueHotToast__custom-icon",src:c.icon,width:24,height:24,alt:"Toast Icon"},null,8,D)])):c.type==="success"?(i(),r("div",M)):c.type==="error"?(i(),r("div",N)):c.type==="loading"?(i(),r("div",S)):O("",!0)]),l("div",E,[l("div",F,w(c.message),1)])],12,B))}}),q={type:"info",message:"Here's your toast.",autoClose:!0,duration:3e3,position:"top-center"};function L(){let o=new Date().getTime();var s="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(o+Math.random()*16)%16|0;return o=Math.floor(o/16),(t=="x"?e:e&3|8).toString(16)});return s}const n=_({notifications:[]}),U=function(){const o=s=>{const t=Object.assign({...q},s),e=L();return n.notifications.push({id:e,...t}),e};return o.update=(s,t)=>{const e=n.notifications.findIndex(a=>a.id===s);if(e===-1)throw o(t),new Error("Can't find toast");return Object.assign(n.notifications[e],t),s},o._handleOptions=(s,t)=>{const e=Object.assign(t??{},{type:s});return o(e)},o.loading=(s,t)=>o._handleOptions("loading",Object.assign(t??{},{message:s})),o.success=(s,t)=>o._handleOptions("success",Object.assign(t??{},{message:s})),o.error=(s,t)=>o._handleOptions("error",Object.assign(t??{},{message:s})),o.promise=(s,t)=>{const e=o.loading(t.loading,{position:t.position});return s.then(a=>(o.update(e,{message:t.success,type:"success",position:t.position}),e)).catch(a=>{throw o.update(e,{message:t.error,type:"error",position:t.position}),a})},o}(),A=o=>{const s=n.notifications.findIndex(t=>t.id===o);s!==-1&&n.notifications.splice(s,1)},G=g({__name:"Toaster",setup(o){const s=f(()=>n.notifications.length>0?n.notifications[0].position:"top-center");return(t,e)=>(i(),x(V,{to:"body"},[y(C,{name:"VueHotToast__teleport-transition",tag:"div",class:"VueHotToast__teleport-transition"},{default:v(()=>[l("div",{class:h(["VueHotToast__toast-container",`VueHotToast__${s.value}`])},[(i(!0),r(T,null,k(m(n).notifications,a=>(i(),x($,{key:a.id,id:a.id,type:a.type,message:a.message,"auto-close":a.autoClose,duration:a.duration,icon:a.icon,position:a.position,onClose:()=>{m(A)(a.id)}},null,8,["id","type","message","auto-close","duration","icon","position","onClose"]))),128))],2)]),_:1})]))}});export{G as K,U as l};
